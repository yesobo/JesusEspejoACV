<section id="experience" class="row-fluid menu-section">
  <aside class="col-lg-3 col-md-3 full-height-column subHeader">
    <main-left custom-query="query" custom-title="rawTitle | translate" custom-subtitle="rawSubtitle | translate">
    </main-left>
  </aside>
  <div class="col-lg-9 col-md-9 main full-height-column">
    <div class="row-fluid" ng-repeat="employer in employersDates | orderBy: '-start'">
      <div class="row-fluid" ng-show="(employments | filter:query | filter:employer.employerName).length">
        <article>
          <div class="col-lg-2 col-md-2 periodColumn">
            <div class="period col-lg-12 col-md-12 col-sm-12">
              <div class="periodInterval primary col-lg-12 col-md-12">
                <span>
                  {{employer.start | myDate}} -
                </span>
                <span>
                  {{employer.end | myDate}}
                </span>
              </div>
              <div class="periodCount primary-inverse col-lg-12 col-md-12">
                <span>{{[employer.start, employer.end] | datesDiff}}</span>
              </div>
            </div>
          </div>
          <div class="col-lg-9 col-md-9 mainColumn">
            <div class="col-lg-12 col-md-12 col-sm-12 row-fluid employerLine">
              <div class="col-lg-12 col-md-12 col-sm-12 employerWrapper">
                <div class="col-lg-9 col-md-9 col-sm-7 employerNameWrapper" style="">
                  <h2 class="employerName">{{employer.employerName | translate}}</h2>
                </div>
                <div class="col-lg-3 col-md-3 col-sm 5 employerLogoWrapper" style="">
                  <a target="_blank" href="{{employer.webSite}}">
                    <img class="employerLogo" ng-src="images/{{employer.imageUrl}}"></a>
                  </div>
                </div>
              </div>
              <div class="employment panel panel-default" ng-repeat="employment in employments | filter: query | filter: employer.employerName | orderBy: '-start'">
                <div class="stickyZone">
                  <div class="panel-heading">
                    <div class="period-mini">
                      <div class="periodInterval-mini default">
                        <span>
                          {{employment.start | myDate}} -
                        </span>
                        <span>
                          {{employment.end | myDate}}
                        </span>
                      </div>
                      <div class="periodCount default-inverse">
                        <span>{{[employment.start, employment.end] | datesDiff}}</span>
                      </div>
                    </div>
                    <h3 class="positionTitle panel-title">
                      <span>{{ employment.locator + '.position' | translate }}</span>
                      <span ng-show="employment.client.name">
                        {{'AT' | translate}}
                        <a target="_blank" href="{{employment.client.webSite}}">{{employment.client.name}}</a>
                      </span>
                    </h3>
                  </div>
                  <div id="positionDetails-{{employment.locator}}" class="panel-collapse collapse">
                    <ul class="panel-body">
                      <experience-details details-obj="employment">
                        <div>{{ detailsObjAttr.locator + '.tasks.' + $index + '.description' | translate }}</div>
                      </experience-details>
                    </ul>
                  </div>
                </div>
                <div class="panel-footer panel-footer-arrow">
                  <div class="round-button-circle">
                    <a jea-collapse-button="" class="my-accordion accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#positionDetails-{{employment.locator}}" collapse-scroll-top="{{collapseScrollTop}}">
                      <span class="glyphicon glyphicon-chevron-down"></span>
                    </a>
                  </div>
                </div>
              </div>
              <p></p>
              <p></p>
            </div>
        </article>
      </div>
    </div>
    <div class="row-fluid" ng-show="!(!(query) || (employments | filter:query | filter:employer.employerName).length)">
      <div class="noFoundMsg row">
        <span>{{'NO_RESULTS_FOUND'| translate}} {{myText| translate}}</span>
        <span><a ng-href="{{noFoundLink}}">{{noFoundLinkText | translate}}</a></span>
      </div>
    </div>
  </div>
</section>